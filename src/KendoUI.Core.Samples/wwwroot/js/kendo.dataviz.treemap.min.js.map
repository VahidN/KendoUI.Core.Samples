{"version":3,"sources":["kendo.dataviz.treemap.js"],"names":["f","define","$","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","zeroSize","width","height","baseline","measureText","text","style","measureBox","TextMetrics","current","measure","LRUCache","DEFAULT_OPTIONS","defaultMeasureBox","window","kendo","util","Class","extend","init","size","this","_size","_length","_map","put","value","map","entry","_head","_tail","newer","older","get","baselineMarkerSize","document","createElement","cssText","options","_cache","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","textContent","appendChild","body","String","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","marker","deepExtend","jQuery","amd","a1","a2","a3","undefined","getField","field","row","getter","defined","UNDEFINED","colorsByLength","min","max","rgbColor","minRGBtoDecimal","rgbToDecimal","maxRGBtoDecimal","isDarker","colorBrightness","colors","r","colorByIndex","g","b","buildColorFromRGB","index","color","minColor","math","abs","maxColor","step","currentStep","decimalToRgb","replace","colorToRGB","rgbToHex","number","result","round","toString","toUpperCase","colorLength","substring","rgb","parseInt","brightness","sqrt","power","pow","Math","proxy","isArray","outerHeight","_outerHeight","outerWidth","_outerWidth","Widget","ui","template","HierarchicalDataSource","data","dataviz","NS","CHANGE","DATA_BOUND","ITEM_CREATED","MAX_VALUE","Number","MOUSEOVER_NS","MOUSELEAVE_NS","TreeMap","element","destroy","empty","fn","call","wrapper","_initTheme","addClass","_setLayout","_originalOptions","_initDataSource","_attachEvents","notify","name","theme","autoBind","textField","valueField","colorField","events","that","themes","themeName","toLowerCase","themeOptions","treeMap","on","_mouseover","_mouseleave","_resizeHandler","resize","onResize","type","_layout","SliceAndDice","_view","SliceAndDiceView","Squarified","SquarifiedView","dataSource","_dataChangeHandler","_onDataChange","create","bind","fetch","setDataSource","unbind","e","item","root","htmlSize","node","items","_getByUid","uid","children","Query","_sortForGrouping","_wrapItem","compute","coord","_setColors","render","_cleanItems","createRoot","_root","_colorIdx","load","trigger","angular","elements","find","colorRange","leafNodes","colorIdx","dataItem","hasChildren","_contentSize","view","renderHeight","wrap","level","pop","concat","attr","getByUid","findByUid","target","hasClass","_removeActiveState","removeClass","off","unbindResize","getSize","dimensions","_resize","rootElement","css","_resizeItems","child","childElement","idx","titleSize","filter","setItemSize","setOptions","_setEvents","top","left","leaf","tree","layoutChildren","minimumSideValue","firstElement","tail","parentArea","totalArea","itemsArea","parseFloat","area","layoutHorizontal","slice","squarify","initElement","computeDim","newCoords","layoutLast","layoutRow","worstAspectRatio","dim","w","layoutV","layoutH","orientation","layoutVertical","layoutChange","areaSum","maxArea","minArea","rootCoord","newRootCoord","ans","_totalArea","total","offset","title","_clean","_getText","_createTitle","append","_compile","_createWrap","innerWidth","rootWrap","htmlElement","_createLeaf","_createTile","toggleClass","_tileColorBrightness","html","tile","_itemCoordinates","coordinates","_renderTemplate","titleTemplate","vertical","quotient","sliceAndDice","plugin"],"mappings":"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","file":"kendo.dataviz.treemap.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/text-metrics', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        window.kendo.util = window.kendo.util || {};\n        var LRUCache = kendo.Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var map = this._map;\n                var entry = {\n                    key: key,\n                    value: value\n                };\n                map[key] = entry;\n                if (!this._head) {\n                    this._head = this._tail = entry;\n                } else {\n                    this._tail.newer = entry;\n                    entry.older = this._tail;\n                    this._tail = entry;\n                }\n                if (this._length >= this._size) {\n                    map[this._head.key] = null;\n                    this._head = this._head.newer;\n                    this._head.older = null;\n                } else {\n                    this._length++;\n                }\n            },\n            get: function (key) {\n                var entry = this._map[key];\n                if (entry) {\n                    if (entry === this._head && entry !== this._tail) {\n                        this._head = entry.newer;\n                        this._head.older = null;\n                    }\n                    if (entry !== this._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = this._tail;\n                        entry.newer = null;\n                        this._tail.newer = entry;\n                        this._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var DEFAULT_OPTIONS = { baselineMarkerSize: 1 };\n        var defaultMeasureBox;\n        if (typeof document !== 'undefined') {\n            defaultMeasureBox = document.createElement('div');\n            defaultMeasureBox.style.cssText = 'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;';\n        }\n        var TextMetrics = kendo.Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this.options = $.extend({}, DEFAULT_OPTIONS, options);\n            },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = objectKey(style);\n                var cacheKey = hashKey(text + styleKey);\n                var cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box || defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (typeof value !== 'undefined') {\n                        measureBox.style[key] = value;\n                    }\n                }\n                measureBox.textContent = text;\n                measureBox.appendChild(baselineMarker);\n                document.body.appendChild(measureBox);\n                if (String(text).length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                var marker = document.createElement('div');\n                marker.style.cssText = 'display: inline-block; vertical-align: baseline;width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;overflow: hidden;';\n                return marker;\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.deepExtend(kendo.util, {\n            LRUCache: LRUCache,\n            TextMetrics: TextMetrics,\n            measureText: measureText,\n            objectKey: objectKey,\n            hashKey: hashKey\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.dataviz.treemap', [\n        'kendo.data',\n        'kendo.userevents',\n        'kendo.dataviz.themes'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'dataviz.treeMap',\n        name: 'TreeMap',\n        category: 'dataviz',\n        description: 'The Kendo DataViz TreeMap',\n        depends: [\n            'data',\n            'userevents',\n            'dataviz.themes'\n        ]\n    };\n    (function ($, undefined) {\n        var math = Math, proxy = $.proxy, isArray = $.isArray, kendo = window.kendo, outerHeight = kendo._outerHeight, outerWidth = kendo._outerWidth, Class = kendo.Class, Widget = kendo.ui.Widget, template = kendo.template, deepExtend = kendo.deepExtend, HierarchicalDataSource = kendo.data.HierarchicalDataSource, getter = kendo.getter, dataviz = kendo.dataviz;\n        var NS = '.kendoTreeMap', CHANGE = 'change', DATA_BOUND = 'dataBound', ITEM_CREATED = 'itemCreated', MAX_VALUE = Number.MAX_VALUE, MOUSEOVER_NS = 'mouseover' + NS, MOUSELEAVE_NS = 'mouseleave' + NS, UNDEFINED = 'undefined';\n        var TreeMap = Widget.extend({\n            init: function (element, options) {\n                kendo.destroy(element);\n                $(element).empty();\n                Widget.fn.init.call(this, element, options);\n                this.wrapper = this.element;\n                this._initTheme(this.options);\n                this.element.addClass('k-widget k-treemap');\n                this._setLayout();\n                this._originalOptions = deepExtend({}, this.options);\n                this._initDataSource();\n                this._attachEvents();\n                kendo.notify(this, dataviz.ui);\n            },\n            options: {\n                name: 'TreeMap',\n                theme: 'default',\n                autoBind: true,\n                textField: 'text',\n                valueField: 'value',\n                colorField: 'color'\n            },\n            events: [\n                DATA_BOUND,\n                ITEM_CREATED\n            ],\n            _initTheme: function (options) {\n                var that = this, themes = dataviz.ui.themes || {}, themeName = ((options || {}).theme || '').toLowerCase(), themeOptions = (themes[themeName] || {}).treeMap;\n                that.options = deepExtend({}, themeOptions, options);\n            },\n            _attachEvents: function () {\n                this.element.on(MOUSEOVER_NS, proxy(this._mouseover, this)).on(MOUSELEAVE_NS, proxy(this._mouseleave, this));\n                this._resizeHandler = proxy(this.resize, this, false);\n                kendo.onResize(this._resizeHandler);\n            },\n            _setLayout: function () {\n                if (this.options.type === 'horizontal') {\n                    this._layout = new SliceAndDice(false);\n                    this._view = new SliceAndDiceView(this, this.options);\n                } else if (this.options.type === 'vertical') {\n                    this._layout = new SliceAndDice(true);\n                    this._view = new SliceAndDiceView(this, this.options);\n                } else {\n                    this._layout = new Squarified();\n                    this._view = new SquarifiedView(this, this.options);\n                }\n            },\n            _initDataSource: function () {\n                var that = this, options = that.options, dataSource = options.dataSource;\n                that._dataChangeHandler = proxy(that._onDataChange, that);\n                that.dataSource = HierarchicalDataSource.create(dataSource).bind(CHANGE, that._dataChangeHandler);\n                if (dataSource) {\n                    if (that.options.autoBind) {\n                        that.dataSource.fetch();\n                    }\n                }\n            },\n            setDataSource: function (dataSource) {\n                var that = this;\n                that.dataSource.unbind(CHANGE, that._dataChangeHandler);\n                that.dataSource = dataSource.bind(CHANGE, that._dataChangeHandler);\n                if (dataSource) {\n                    if (that.options.autoBind) {\n                        that.dataSource.fetch();\n                    }\n                }\n            },\n            _onDataChange: function (e) {\n                var node = e.node;\n                var items = e.items;\n                var options = this.options;\n                var item, i;\n                if (!node) {\n                    this._cleanItems();\n                    this.element.empty();\n                    item = this._wrapItem(items[0]);\n                    this._layout.createRoot(item, outerWidth(this.element), outerHeight(this.element), this.options.type === 'vertical');\n                    this._view.createRoot(item);\n                    this._root = item;\n                    this._colorIdx = 0;\n                } else {\n                    if (items.length) {\n                        var root = this._getByUid(node.uid);\n                        root.children = [];\n                        items = new kendo.data.Query(items)._sortForGrouping(options.valueField, 'desc');\n                        for (i = 0; i < items.length; i++) {\n                            item = items[i];\n                            root.children.push(this._wrapItem(item));\n                        }\n                        var htmlSize = this._view.htmlSize(root);\n                        this._layout.compute(root.children, root.coord, htmlSize);\n                        this._setColors(root.children);\n                        this._view.render(root);\n                    }\n                }\n                for (i = 0; i < items.length; i++) {\n                    items[i].load();\n                }\n                if (node) {\n                    this.trigger(DATA_BOUND, { node: node });\n                }\n            },\n            _cleanItems: function () {\n                var that = this;\n                that.angular('cleanup', function () {\n                    return { elements: that.element.find('.k-leaf div,.k-treemap-title,.k-treemap-title-vertical') };\n                });\n            },\n            _setColors: function (items) {\n                var colors = this.options.colors;\n                var colorIdx = this._colorIdx;\n                var color = colors[colorIdx % colors.length];\n                var colorRange, item;\n                if (isArray(color)) {\n                    colorRange = colorsByLength(color[0], color[1], items.length);\n                }\n                var leafNodes = false;\n                for (var i = 0; i < items.length; i++) {\n                    item = items[i];\n                    if (!defined(item.color)) {\n                        if (colorRange) {\n                            item.color = colorRange[i];\n                        } else {\n                            item.color = color;\n                        }\n                    }\n                    if (!item.dataItem.hasChildren) {\n                        leafNodes = true;\n                    }\n                }\n                if (leafNodes) {\n                    this._colorIdx++;\n                }\n            },\n            _contentSize: function (root) {\n                this.view.renderHeight(root);\n            },\n            _wrapItem: function (item) {\n                var wrap = {};\n                if (defined(this.options.valueField)) {\n                    wrap.value = getField(this.options.valueField, item);\n                }\n                if (defined(this.options.colorField)) {\n                    wrap.color = getField(this.options.colorField, item);\n                }\n                if (defined(this.options.textField)) {\n                    wrap.text = getField(this.options.textField, item);\n                }\n                wrap.level = item.level();\n                wrap.dataItem = item;\n                return wrap;\n            },\n            _getByUid: function (uid) {\n                var items = [this._root];\n                var item;\n                while (items.length) {\n                    item = items.pop();\n                    if (item.dataItem.uid === uid) {\n                        return item;\n                    }\n                    if (item.children) {\n                        items = items.concat(item.children);\n                    }\n                }\n            },\n            dataItem: function (node) {\n                var uid = $(node).attr(kendo.attr('uid')), dataSource = this.dataSource;\n                return dataSource && dataSource.getByUid(uid);\n            },\n            findByUid: function (uid) {\n                return this.element.find('.k-treemap-tile[' + kendo.attr('uid') + '=\\'' + uid + '\\']');\n            },\n            _mouseover: function (e) {\n                var target = $(e.target);\n                if (target.hasClass('k-leaf')) {\n                    this._removeActiveState();\n                    target.removeClass('k-state-hover').addClass('k-state-hover');\n                }\n            },\n            _removeActiveState: function () {\n                this.element.find('.k-state-hover').removeClass('k-state-hover');\n            },\n            _mouseleave: function () {\n                this._removeActiveState();\n            },\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                this.element.off(NS);\n                if (this.dataSource) {\n                    this.dataSource.unbind(CHANGE, this._dataChangeHandler);\n                }\n                this._root = null;\n                kendo.unbindResize(this._resizeHandler);\n                kendo.destroy(this.element);\n            },\n            items: function () {\n                return $();\n            },\n            getSize: function () {\n                return kendo.dimensions(this.element);\n            },\n            _resize: function () {\n                var root = this._root;\n                if (root) {\n                    var element = this.element;\n                    var rootElement = element.children();\n                    root.coord.width = outerWidth(element);\n                    root.coord.height = outerHeight(element);\n                    rootElement.css({\n                        width: root.coord.width,\n                        height: root.coord.height\n                    });\n                    this._resizeItems(root, rootElement);\n                }\n            },\n            _resizeItems: function (root, element) {\n                if (root.children && root.children.length) {\n                    var elements = element.children('.k-treemap-wrap').children();\n                    var child, childElement;\n                    this._layout.compute(root.children, root.coord, { text: this._view.titleSize(root, element) });\n                    for (var idx = 0; idx < root.children.length; idx++) {\n                        child = root.children[idx];\n                        childElement = elements.filter('[' + kendo.attr('uid') + '=\\'' + child.dataItem.uid + '\\']');\n                        this._view.setItemSize(child, childElement);\n                        this._resizeItems(child, childElement);\n                    }\n                }\n            },\n            setOptions: function (options) {\n                var dataSource = options.dataSource;\n                options.dataSource = undefined;\n                this._originalOptions = deepExtend(this._originalOptions, options);\n                this.options = deepExtend({}, this._originalOptions);\n                this._setLayout();\n                this._initTheme(this.options);\n                Widget.fn._setEvents.call(this, options);\n                if (dataSource) {\n                    this.setDataSource(HierarchicalDataSource.create(dataSource));\n                }\n                if (this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            }\n        });\n        var Squarified = Class.extend({\n            createRoot: function (root, width, height) {\n                root.coord = {\n                    width: width,\n                    height: height,\n                    top: 0,\n                    left: 0\n                };\n            },\n            leaf: function (tree) {\n                return !tree.children;\n            },\n            layoutChildren: function (items, coord) {\n                var parentArea = coord.width * coord.height;\n                var totalArea = 0, itemsArea = [], i;\n                for (i = 0; i < items.length; i++) {\n                    itemsArea[i] = parseFloat(items[i].value);\n                    totalArea += itemsArea[i];\n                }\n                for (i = 0; i < itemsArea.length; i++) {\n                    items[i].area = parentArea * itemsArea[i] / totalArea;\n                }\n                var minimumSideValue = this.layoutHorizontal() ? coord.height : coord.width;\n                var firstElement = [items[0]];\n                var tail = items.slice(1);\n                this.squarify(tail, firstElement, minimumSideValue, coord);\n            },\n            squarify: function (tail, initElement, width, coord) {\n                this.computeDim(tail, initElement, width, coord);\n            },\n            computeDim: function (tail, initElement, width, coord) {\n                if (tail.length + initElement.length == 1) {\n                    var element = tail.length == 1 ? tail : initElement;\n                    this.layoutLast(element, width, coord);\n                    return;\n                }\n                if (tail.length >= 2 && initElement.length === 0) {\n                    initElement = [tail[0]];\n                    tail = tail.slice(1);\n                }\n                if (tail.length === 0) {\n                    if (initElement.length > 0) {\n                        this.layoutRow(initElement, width, coord);\n                    }\n                    return;\n                }\n                var firstElement = tail[0];\n                if (this.worstAspectRatio(initElement, width) >= this.worstAspectRatio([firstElement].concat(initElement), width)) {\n                    this.computeDim(tail.slice(1), initElement.concat([firstElement]), width, coord);\n                } else {\n                    var newCoords = this.layoutRow(initElement, width, coord);\n                    this.computeDim(tail, [], newCoords.dim, newCoords);\n                }\n            },\n            layoutLast: function (items, w, coord) {\n                items[0].coord = coord;\n            },\n            layoutRow: function (items, width, coord) {\n                if (this.layoutHorizontal()) {\n                    return this.layoutV(items, width, coord);\n                } else {\n                    return this.layoutH(items, width, coord);\n                }\n            },\n            orientation: 'h',\n            layoutVertical: function () {\n                return this.orientation === 'v';\n            },\n            layoutHorizontal: function () {\n                return this.orientation === 'h';\n            },\n            layoutChange: function () {\n                this.orientation = this.layoutVertical() ? 'h' : 'v';\n            },\n            worstAspectRatio: function (items, width) {\n                if (!items || items.length === 0) {\n                    return MAX_VALUE;\n                }\n                var areaSum = 0, maxArea = 0, minArea = MAX_VALUE;\n                for (var i = 0; i < items.length; i++) {\n                    var area = items[i].area;\n                    areaSum += area;\n                    minArea = minArea < area ? minArea : area;\n                    maxArea = maxArea > area ? maxArea : area;\n                }\n                return math.max(width * width * maxArea / (areaSum * areaSum), areaSum * areaSum / (width * width * minArea));\n            },\n            compute: function (children, rootCoord, htmlSize) {\n                if (!(rootCoord.width >= rootCoord.height && this.layoutHorizontal())) {\n                    this.layoutChange();\n                }\n                if (children && children.length > 0) {\n                    var newRootCoord = {\n                        width: rootCoord.width,\n                        height: rootCoord.height - htmlSize.text,\n                        top: 0,\n                        left: 0\n                    };\n                    this.layoutChildren(children, newRootCoord);\n                }\n            },\n            layoutV: function (items, width, coord) {\n                var totalArea = this._totalArea(items), top = 0;\n                width = round(totalArea / width);\n                for (var i = 0; i < items.length; i++) {\n                    var height = round(items[i].area / width);\n                    items[i].coord = {\n                        height: height,\n                        width: width,\n                        top: coord.top + top,\n                        left: coord.left\n                    };\n                    top += height;\n                }\n                var ans = {\n                    height: coord.height,\n                    width: coord.width - width,\n                    top: coord.top,\n                    left: coord.left + width\n                };\n                ans.dim = math.min(ans.width, ans.height);\n                if (ans.dim != ans.height) {\n                    this.layoutChange();\n                }\n                return ans;\n            },\n            layoutH: function (items, width, coord) {\n                var totalArea = this._totalArea(items);\n                var height = round(totalArea / width), top = coord.top, left = 0;\n                for (var i = 0; i < items.length; i++) {\n                    items[i].coord = {\n                        height: height,\n                        width: round(items[i].area / height),\n                        top: top,\n                        left: coord.left + left\n                    };\n                    left += items[i].coord.width;\n                }\n                var ans = {\n                    height: coord.height - height,\n                    width: coord.width,\n                    top: coord.top + height,\n                    left: coord.left\n                };\n                ans.dim = math.min(ans.width, ans.height);\n                if (ans.dim != ans.width) {\n                    this.layoutChange();\n                }\n                return ans;\n            },\n            _totalArea: function (items) {\n                var total = 0;\n                for (var i = 0; i < items.length; i++) {\n                    total += items[i].area;\n                }\n                return total;\n            }\n        });\n        var SquarifiedView = Class.extend({\n            init: function (treeMap, options) {\n                this.options = deepExtend({}, this.options, options);\n                this.treeMap = treeMap;\n                this.element = $(treeMap.element);\n                this.offset = 0;\n            },\n            titleSize: function (item, element) {\n                var text = element.children('.k-treemap-title');\n                return text.height();\n            },\n            htmlSize: function (root) {\n                var rootElement = this._getByUid(root.dataItem.uid);\n                var htmlSize = { text: 0 };\n                if (root.children) {\n                    this._clean(rootElement);\n                    var text = this._getText(root);\n                    if (text) {\n                        var title = this._createTitle(root);\n                        rootElement.append(title);\n                        this._compile(title, root.dataItem);\n                        htmlSize.text = title.height();\n                    }\n                    rootElement.append(this._createWrap());\n                    this.offset = (outerWidth(rootElement) - rootElement.innerWidth()) / 2;\n                }\n                return htmlSize;\n            },\n            _compile: function (element, dataItem) {\n                this.treeMap.angular('compile', function () {\n                    return {\n                        elements: element,\n                        data: [{ dataItem: dataItem }]\n                    };\n                });\n            },\n            _getByUid: function (uid) {\n                return this.element.find('.k-treemap-tile[' + kendo.attr('uid') + '=\\'' + uid + '\\']');\n            },\n            render: function (root) {\n                var rootElement = this._getByUid(root.dataItem.uid);\n                var children = root.children;\n                if (children) {\n                    var rootWrap = rootElement.find('.k-treemap-wrap');\n                    for (var i = 0; i < children.length; i++) {\n                        var leaf = children[i];\n                        var htmlElement = this._createLeaf(leaf);\n                        rootWrap.append(htmlElement);\n                        this._compile(htmlElement.children(), leaf.dataItem);\n                        this.treeMap.trigger(ITEM_CREATED, { element: htmlElement });\n                    }\n                }\n            },\n            createRoot: function (root) {\n                var htmlElement = this._createLeaf(root);\n                this.element.append(htmlElement);\n                this._compile(htmlElement.children(), root.dataItem);\n                this.treeMap.trigger(ITEM_CREATED, { element: htmlElement });\n            },\n            _clean: function (root) {\n                this.treeMap.angular('cleanup', function () {\n                    return { elements: root.children(':not(.k-treemap-wrap)') };\n                });\n                root.css('background-color', '');\n                root.removeClass('k-leaf');\n                root.removeClass('k-inverse');\n                root.empty();\n            },\n            _createLeaf: function (item) {\n                return this._createTile(item).css('background-color', item.color).addClass('k-leaf').toggleClass('k-inverse', this._tileColorBrightness(item) > 180).append($('<div></div>').html(this._getText(item)));\n            },\n            _createTile: function (item) {\n                var tile = $('<div class=\\'k-treemap-tile\\'></div>');\n                this.setItemSize(item, tile);\n                if (defined(item.dataItem) && defined(item.dataItem.uid)) {\n                    tile.attr(kendo.attr('uid'), item.dataItem.uid);\n                }\n                return tile;\n            },\n            _itemCoordinates: function (item) {\n                var coordinates = {\n                    width: item.coord.width,\n                    height: item.coord.height,\n                    left: item.coord.left,\n                    top: item.coord.top\n                };\n                if (coordinates.left && this.offset) {\n                    coordinates.width += this.offset * 2;\n                } else {\n                    coordinates.width += this.offset;\n                }\n                if (coordinates.top) {\n                    coordinates.height += this.offset * 2;\n                } else {\n                    coordinates.height += this.offset;\n                }\n                return coordinates;\n            },\n            setItemSize: function (item, element) {\n                var coordinates = this._itemCoordinates(item);\n                element.css({\n                    width: coordinates.width,\n                    height: coordinates.height,\n                    left: coordinates.left,\n                    top: coordinates.top\n                });\n            },\n            _getText: function (item) {\n                var text = item.text;\n                if (this.options.template) {\n                    text = this._renderTemplate(item);\n                }\n                return text;\n            },\n            _renderTemplate: function (item) {\n                var titleTemplate = template(this.options.template);\n                return titleTemplate({\n                    dataItem: item.dataItem,\n                    text: item.text\n                });\n            },\n            _createTitle: function (item) {\n                return $('<div class=\\'k-treemap-title\\'></div>').append($('<div></div>').html(this._getText(item)));\n            },\n            _createWrap: function () {\n                return $('<div class=\\'k-treemap-wrap\\'></div>');\n            },\n            _tileColorBrightness: function (item) {\n                return colorBrightness(item.color);\n            }\n        });\n        var SliceAndDice = Class.extend({\n            createRoot: function (root, width, height, vertical) {\n                root.coord = {\n                    width: width,\n                    height: height,\n                    top: 0,\n                    left: 0\n                };\n                root.vertical = vertical;\n            },\n            init: function (vertical) {\n                this.vertical = vertical;\n                this.quotient = vertical ? 1 : 0;\n            },\n            compute: function (children, rootCoord, htmlSize) {\n                if (children.length > 0) {\n                    var width = rootCoord.width;\n                    var height = rootCoord.height;\n                    if (this.vertical) {\n                        height -= htmlSize.text;\n                    } else {\n                        width -= htmlSize.text;\n                    }\n                    var newRootCoord = {\n                        width: width,\n                        height: height,\n                        top: 0,\n                        left: 0\n                    };\n                    this.layoutChildren(children, newRootCoord);\n                }\n            },\n            layoutChildren: function (items, coord) {\n                var parentArea = coord.width * coord.height;\n                var totalArea = 0;\n                var itemsArea = [];\n                var i;\n                for (i = 0; i < items.length; i++) {\n                    var item = items[i];\n                    itemsArea[i] = parseFloat(items[i].value);\n                    totalArea += itemsArea[i];\n                    item.vertical = this.vertical;\n                }\n                for (i = 0; i < itemsArea.length; i++) {\n                    items[i].area = parentArea * itemsArea[i] / totalArea;\n                }\n                this.sliceAndDice(items, coord);\n            },\n            sliceAndDice: function (items, coord) {\n                var totalArea = this._totalArea(items);\n                if (items[0].level % 2 === this.quotient) {\n                    this.layoutHorizontal(items, coord, totalArea);\n                } else {\n                    this.layoutVertical(items, coord, totalArea);\n                }\n            },\n            layoutHorizontal: function (items, coord, totalArea) {\n                var left = 0;\n                for (var i = 0; i < items.length; i++) {\n                    var item = items[i];\n                    var width = item.area / (totalArea / coord.width);\n                    item.coord = {\n                        height: coord.height,\n                        width: width,\n                        top: coord.top,\n                        left: coord.left + left\n                    };\n                    left += width;\n                }\n            },\n            layoutVertical: function (items, coord, totalArea) {\n                var top = 0;\n                for (var i = 0; i < items.length; i++) {\n                    var item = items[i];\n                    var height = item.area / (totalArea / coord.height);\n                    item.coord = {\n                        height: height,\n                        width: coord.width,\n                        top: coord.top + top,\n                        left: coord.left\n                    };\n                    top += height;\n                }\n            },\n            _totalArea: function (items) {\n                var total = 0;\n                for (var i = 0; i < items.length; i++) {\n                    total += items[i].area;\n                }\n                return total;\n            }\n        });\n        var SliceAndDiceView = SquarifiedView.extend({\n            htmlSize: function (root) {\n                var rootElement = this._getByUid(root.dataItem.uid);\n                var htmlSize = {\n                    text: 0,\n                    offset: 0\n                };\n                if (root.children) {\n                    this._clean(rootElement);\n                    var text = this._getText(root);\n                    if (text) {\n                        var title = this._createTitle(root);\n                        rootElement.append(title);\n                        this._compile(title, root.dataItem);\n                        if (root.vertical) {\n                            htmlSize.text = title.height();\n                        } else {\n                            htmlSize.text = title.width();\n                        }\n                    }\n                    rootElement.append(this._createWrap());\n                    this.offset = (outerWidth(rootElement) - rootElement.innerWidth()) / 2;\n                }\n                return htmlSize;\n            },\n            titleSize: function (item, element) {\n                var size;\n                if (item.vertical) {\n                    size = element.children('.k-treemap-title').height();\n                } else {\n                    size = element.children('.k-treemap-title-vertical').width();\n                }\n                return size;\n            },\n            _createTitle: function (item) {\n                var title;\n                if (item.vertical) {\n                    title = $('<div class=\\'k-treemap-title\\'></div>');\n                } else {\n                    title = $('<div class=\\'k-treemap-title-vertical\\'></div>');\n                }\n                return title.append($('<div></div>').html(this._getText(item)));\n            }\n        });\n        function getField(field, row) {\n            if (row === null) {\n                return row;\n            }\n            var get = getter(field, true);\n            return get(row);\n        }\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function colorsByLength(min, max, length) {\n            var minRGBtoDecimal = rgbToDecimal(min);\n            var maxRGBtoDecimal = rgbToDecimal(max);\n            var isDarker = colorBrightness(min) - colorBrightness(max) < 0;\n            var colors = [];\n            colors.push(min);\n            for (var i = 0; i < length; i++) {\n                var rgbColor = {\n                    r: colorByIndex(minRGBtoDecimal.r, maxRGBtoDecimal.r, i, length, isDarker),\n                    g: colorByIndex(minRGBtoDecimal.g, maxRGBtoDecimal.g, i, length, isDarker),\n                    b: colorByIndex(minRGBtoDecimal.b, maxRGBtoDecimal.b, i, length, isDarker)\n                };\n                colors.push(buildColorFromRGB(rgbColor));\n            }\n            colors.push(max);\n            return colors;\n        }\n        function colorByIndex(min, max, index, length, isDarker) {\n            var minColor = math.min(math.abs(min), math.abs(max));\n            var maxColor = math.max(math.abs(min), math.abs(max));\n            var step = (maxColor - minColor) / (length + 1);\n            var currentStep = step * (index + 1);\n            var color;\n            if (isDarker) {\n                color = minColor + currentStep;\n            } else {\n                color = maxColor - currentStep;\n            }\n            return color;\n        }\n        function buildColorFromRGB(color) {\n            return '#' + decimalToRgb(color.r) + decimalToRgb(color.g) + decimalToRgb(color.b);\n        }\n        function rgbToDecimal(color) {\n            color = color.replace('#', '');\n            var rgbColor = colorToRGB(color);\n            return {\n                r: rgbToHex(rgbColor.r),\n                g: rgbToHex(rgbColor.g),\n                b: rgbToHex(rgbColor.b)\n            };\n        }\n        function decimalToRgb(number) {\n            var result = math.round(number).toString(16).toUpperCase();\n            if (result.length === 1) {\n                result = '0' + result;\n            }\n            return result;\n        }\n        function colorToRGB(color) {\n            var colorLength = color.length;\n            var rgbColor = {};\n            if (colorLength === 3) {\n                rgbColor.r = color[0];\n                rgbColor.g = color[1];\n                rgbColor.b = color[2];\n            } else {\n                rgbColor.r = color.substring(0, 2);\n                rgbColor.g = color.substring(2, 4);\n                rgbColor.b = color.substring(4, 6);\n            }\n            return rgbColor;\n        }\n        function rgbToHex(rgb) {\n            return parseInt(rgb.toString(16), 16);\n        }\n        function colorBrightness(color) {\n            var brightness = 0;\n            if (color) {\n                color = rgbToDecimal(color);\n                brightness = math.sqrt(0.241 * color.r * color.r + 0.691 * color.g * color.g + 0.068 * color.b * color.b);\n            }\n            return brightness;\n        }\n        function round(value) {\n            var power = math.pow(10, 4);\n            return math.round(value * power) / power;\n        }\n        dataviz.ui.plugin(TreeMap);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}